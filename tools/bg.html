<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Background Remover with Custom BG one click background remover without quality lose</title>
    <meta property="og:description" content="free tool for pdf & image all tool are avalible here free">
     <meta name="description" content="DR.pdf & image is a compleate package of your need at one place free tool for pdf & image all tool are avalible here free,pdf resize, merge pdf ,split pdf,pdf to image,image to pdf,orgnize pdf,sign on pdf, watermaark on pdf,image background remover,image compressor,image resizer,age calculator,word to pdf, excel to pdf,resumr builder,multiple image in one page,edit pdf,many more pdf tools at one place">


<meta name="keywords" content="Dr.PDF & IMG,drpdf&img,dr pdf and image,DR pdf,dr pdf, merg pdf, split pdf, pdf to image ,image to pdf,photo background remover,orgnize pdf,sign on pdf,photo date and name,page number on pdf,watermark on pdf,DR.pdf and image,pdf editoe,resume builder,multiple image,image resizer,age-calculator,image compressor,word to pdf,excel to pdf,pdf multifunction tool">
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            /* padding: 20px; */
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .input-group {
            margin-bottom: 20px;
            text-align: center;
        }
        .file-input, .bg-file-input {
            display: none;
        }
        .file-label, .bg-file-label {
            display: inline-block;
            padding: 12px 24px;
            background: #007bff;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
            margin: 0 10px;
        }
        .file-label:hover, .bg-file-label:hover {
            background: #0056b3;
        }
        .bg-options {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .color-option {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .color-option label {
            font-weight: bold;
        }
        #bgColor {
            width: 50px;
            height: 50px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .previews {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }
        .preview {
            width: 300px;
            height: 300px;
            border: 2px solid #ddd;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9f9f9;
            position: relative;
        }
        .preview canvas {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
            transition: background 0.3s;
        }
        .btn-primary {
            background: #28a745;
            color: white;
        }
        .btn-primary:hover {
            background: #218838;
        }
        .btn-download {
            background: #17a2b8;
            color: white;
            text-decoration: none;
            display: none;
        }
        .btn-download:hover {
            background: #138496;
        }
        .status {
            margin-top: 20px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo-area">
                <img src="/tools/img/drpdf.jpeg" alt="Logo" class="logo-img">
                <span class="brand-name">DR.PDF & IMG</span>
            </div>
            <nav>
                <ul>
                    <li><a href="../index.html" target="_blank">Home</a></li>
                    <li><a href="#products">Application</a></li>
                    <li><a href="#contact">About Us</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <div class="container">
        <h1>Image Background Remover + Custom BG</h1>
        <div class="input-group">
            <input type="file" id="userImg" class="file-input" accept="image/*">
            <label for="userImg" class="file-label">Choose Foreground Image</label>
        </div>
        <div class="bg-options">
            <div class="color-option">
                <label>Solid BG Color:</label>
                <input type="color" id="bgColor" value="#ffffff">
            </div>
            <div>
                <input type="file" id="bgImg" class="bg-file-input" accept="image/*">
                <label for="bgImg" class="bg-file-label">Custom BG Image</label>
            </div>
        </div>
        <div style="text-align: center;">
            <button id="removeBackground" class="btn btn-primary" style="display: none;">Remove BG & Apply Custom</button>
            <a id="downloadButton" class="btn btn-download" download="final-image.png">Download Result</a>
        </div>
        <div class="previews">
            <div id="imagePreview" class="preview">
                <div style="color: #999;">Original</div>
            </div>
            <div id="resultPreview" class="preview">
                <div style="color: #999;">Result with Custom BG</div>
            </div>
        </div>
        <div id="status" class="status"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const inputField = document.getElementById('userImg');
            const bgInputField = document.getElementById('bgImg');
            const bgColorInput = document.getElementById('bgColor');
            const removeBackgroundButton = document.getElementById('removeBackground');
            const imagePreview = document.getElementById('imagePreview');
            const resultPreview = document.getElementById('resultPreview');
            const downloadButton = document.getElementById('downloadButton');
            const status = document.getElementById('status');

            let originalFile = null;
            let removedBlob = null;
            let bgImage = null;
            let bgColor = '#ffffff';

            function showStatus(message, type) {
                status.textContent = message;
                status.className = `status ${type}`;
                status.style.display = 'block';
                setTimeout(() => { status.style.display = 'none'; }, 5000);
            }

            function updatePreview() {
                if (!removedBlob) return;
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                const img = new Image();
                img.onload = () => {
                    canvas.width = 300;
                    canvas.height = 300;
                    // Fill background
                    if (bgImage) {
                        ctx.drawImage(bgImage, 0, 0, canvas.width, canvas.height);
                    } else {
                        ctx.fillStyle = bgColor;
                        ctx.fillRect(0, 0, canvas.width, canvas.height);
                    }
                    // Draw transparent foreground
                    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                    resultPreview.innerHTML = '';
                    resultPreview.appendChild(canvas);
                    downloadButton.href = canvas.toDataURL('image/png');
                    downloadButton.style.display = 'inline-block';
                };
                img.src = URL.createObjectURL(removedBlob);
            }

            inputField.addEventListener('change', function () {
                const file = this.files[0];
                if (!file) return;
                originalFile = file;
                const reader = new FileReader();
                reader.onload = function (e) {
                    const img = new Image();
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        canvas.width = 300;
                        canvas.height = 300;
                        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                        imagePreview.innerHTML = '';
                        imagePreview.appendChild(canvas);
                        removeBackgroundButton.style.display = 'inline-block';
                    };
                    img.src = e.target.result;
                };
                reader.readAsDataURL(file);
            });

            bgInputField.addEventListener('change', function () {
                const file = this.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = function (e) {
                    bgImage = new Image();
                    bgImage.onload = () => {
                        updatePreview();
                        showStatus('Custom BG image loaded!', 'success');
                    };
                    bgImage.src = e.target.result;
                };
                reader.readAsDataURL(file);
            });

            bgColorInput.addEventListener('change', function () {
                bgColor = this.value;
                bgImage = null; // Clear custom image if color selected
                updatePreview();
                showStatus('BG color updated!', 'success');
            });

            removeBackgroundButton.addEventListener('click', async function () {
                if (!originalFile) {
                    showStatus('Please select foreground image first.', 'error');
                    return;
                }
                showStatus('Removing background...', 'success');
                const formData = new FormData();
                formData.append('image_file', originalFile);
                const apiKey = '39nH2XMTcoAxnogxmqVBuAXH'; // Replace with your key

                try {
                    const response = await fetch('https://api.remove.bg/v1.0/removebg', {
                        method: 'POST',
                        headers: { 'X-Api-Key': apiKey },
                        body: formData,
                    });
                    if (!response.ok) throw new Error(`API error: ${response.status}`);
                    removedBlob = await response.blob();
                    updatePreview();
                    showStatus('Background removed & custom BG applied!', 'success');
                } catch (error) {
                    console.error('Error:', error);
                    showStatus('Error: Check console or get your own API key at remove.bg.', 'error');
                }
            });
        });
    </script>
</body>
</html>
